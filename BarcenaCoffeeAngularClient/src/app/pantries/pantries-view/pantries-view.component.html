<div id="pantries-view-container">
    <div id="pantries-view-title">
        Pantries List
    </div>
    <div  id="pantries-view-table-container" *ngIf="pantries?.length > 0; else empty">
        <table id="pantries-view-table" class="table">
            <thead>
                <tr>
                    <th scope="col">Pantry Name</th>
                    <th scope="col">Coffee Bean Bag Stock</th>
                    <th scope="col">Sugar Pack Stock</th>
                    <th scope="col">Milk Carton Stock</th>
                </tr>
            </thead>
            <tbody *ngFor="let pantry of pantries; let i = index">
                <tr>
                    <td>{{pantry.pantryName}}</td>
                    <td><span title="{{pantry.coffeeBeanUnits}} Units of Coffee Bean">{{getIngredientContainerAmtFromUnits(pantry.coffeeBeanUnits)}}</span></td>
                    <td><span title="{{pantry.sugarUnits}} Units of Sugar">{{getIngredientContainerAmtFromUnits(pantry.sugarUnits)}}</span></td>
                    <td><span title="{{pantry.milkUnits}} Units of Milk">{{getIngredientContainerAmtFromUnits(pantry.milkUnits)}}</span></td>
                    <td><button class="btn btn-restock" (click)="restock(i)">Restock</button></td>
                    <td><button class="btn btn-graph" (click)="showStockGraph(pantry.id)">Show Stock Graph</button></td>
                    <td><button class="btn btn-danger" (click)="showDeletePantryConfirmation(pantry)">Delete Pantry</button></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="btn-create-new-container">
        <button id="btn-create-new" class="btn" (click)="showCreatePantryModal()">Creeate New Pantry</button>
    </div>
    <ng-template #empty>
        <div class="empty-table">
            No pantries found.
        </div>
    </ng-template>
</div>

<app-restock-modal *ngIf="pantries?.length > 0"
  [pantry]="pantries[restockingPantryIndex]"
  (redirectOnOK)="test()"
>
</app-restock-modal>

<app-create-pantry-modal
    (redirectOnOK)="test()"
>
</app-create-pantry-modal>

<app-confirmation-modal
    [modalText]="confirmationMessage"
    [okButtonText]="confirmationOkButtonText"
    [cancelButtonText]="confirmationCancelButtonText"
    (redirectOnOK)="deletePantry()"
>
</app-confirmation-modal>

<app-error-modal
  [modalText]="errorMessage" 
  [okButtonText]="'OK'"
>
</app-error-modal>